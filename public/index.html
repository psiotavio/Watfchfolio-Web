<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="google-adsense-account" content="ca-pub-4303499199669342" />
    <meta name="theme-color" content="#000000" />
    
    <!-- Meta Tags Importantes para SEO -->
    <meta name="description" content="Watchfolio Web: Descubra, registre e avalie filmes assistidos. Receba recomendações personalizadas e descubra onde assistir seus filmes favoritos nas plataformas de streaming. Crie listas de filmes para assistir mais tarde e acompanhe suas estatísticas de filmes assistidos. Alternativa ao IMDb, Rotten Tomatoes e Letterboxd." />
    <meta name="keywords" content="Watchfolio, registrar filmes, avaliação de filmes, melhores filmes, assistir filmes, filmes recomendados, plataforma de streaming, IMDb, Rotten Tomatoes, Letterboxd, rastreador de filmes, recomendações de filmes, estatísticas de filmes" />
    <meta name="author" content="Otávio Cunha" />
    <meta name="robots" content="index, follow" />
    
    <!-- Open Graph (Para Redes Sociais) -->
    <meta property="og:title" content="Watchfolio Web: Descubra e Avalie Seus Filmes" />
    <meta property="og:description" content="Watchfolio Web permite registrar, avaliar, e receber recomendações de filmes. Descubra onde assistir e acompanhe suas estatísticas de filmes assistidos. Alternativa ao IMDb, Rotten Tomatoes e Letterboxd." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://watchfolio.com.br" />
    <meta property="og:image" content="%PUBLIC_URL%/logo192.png" />
    <meta property="og:site_name" content="Watchfolio Web" />
    
    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Watchfolio Web: Descubra e Avalie Seus Filmes" />
    <meta name="twitter:description" content="Descubra filmes, registre o que assistiu e receba recomendações personalizadas com o Watchfolio. Plataforma para descobrir novos filmes, semelhante ao IMDb, Rotten Tomatoes e Letterboxd." />
    <meta name="twitter:image" content="%PUBLIC_URL%/logo192.png" />

    <!-- Google AdSense script -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4303499199669342"
      crossorigin="anonymous"></script>

    <!-- Google Analytics (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LH0Y1M2EXG"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      
      // Configura o consentimento padrão (negado até que o usuário aceite)
      gtag('consent', 'default', {
        'ad_storage': 'denied',
        'analytics_storage': 'denied'
      });
      
      gtag('config', 'G-LH0Y1M2EXG');
      
      // Função para gerenciar o consentimento de cookies
      function consentGrantedAdStorage() {
        // Configura o Google Analytics para consentimento
        gtag('consent', 'update', {
          'ad_storage': 'granted',
          'analytics_storage': 'granted'
        });
        
        // Esconde o banner de cookies
        document.getElementById('cookie-consent').style.display = 'none';
        
        // Opcional: Salva o consentimento em localStorage para lembrar na próxima visita
        localStorage.setItem('cookieConsent', 'true');
      }
      
      // Verifica se o usuário já deu consentimento anteriormente
      window.addEventListener('DOMContentLoaded', function() {
        if (localStorage.getItem('cookieConsent') === 'true') {
          document.getElementById('cookie-consent').style.display = 'none';
          consentGrantedAdStorage();
        }
      });
    </script>

    <!-- JSON-LD para dados estruturados -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Watchfolio Web",
      "url": "https://watchfolio.com.br",
      "description": "Watchfolio Web: Descubra, registre e avalie filmes assistidos. Receba recomendações personalizadas, crie listas para assistir mais tarde e veja onde assistir seus filmes favoritos nas plataformas de streaming.",
      "author": {
        "@type": "Person",
        "name": "Otávio Cunha",
        "url": "https://www.tiktok.com/@otaviocunhap"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Watchfolio",
        "logo": {
          "@type": "ImageObject",
          "url": "%PUBLIC_URL%/logo192.png"
        }
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://watchfolio.com.br/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>

    <title>Watchfolio Web: Descubra e Avalie Seus Filmes Favoritos</title>

    <style>
      #cookie-consent {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: #000;
        color: #fff;
        text-align: center;
        padding: 15px;
        z-index: 1000;
      }
      #cookie-consent button {
        margin-left: 10px;
        padding: 10px 20px;
        background-color: #4CAF50;
        color: white;
        border: none;
        cursor: pointer;
      }
      #cookie-consent button:hover {
        background-color: #45a049;
      }
    </style>
  </head>
  
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <!-- Consentimento de Cookies -->
    <div id="cookie-consent">
      Este site utiliza cookies para garantir a melhor experiência. 
      <button onclick="consentGrantedAdStorage()">Aceitar</button>
    </div>

    <script>
      // Script para redirecionamento de perfil
      document.addEventListener('DOMContentLoaded', function() {
        // Verifica se o usuário está acessando um perfil
        if (window.location.pathname.startsWith('/profile/')) {
          const userId = window.location.pathname.split('/profile/')[1];
          
          // Tenta abrir o aplicativo
          const appUrl = `watchfolio://profile/${userId}`;
          
          // Redireciona para o app
          window.location.href = appUrl;
          
          // Se o aplicativo não abrir em 2 segundos, permanece na versão web
          // ou redireciona para a loja de aplicativos
          setTimeout(function() {
            // Detecta o sistema operacional para redirecionar para a loja correta
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;
            
            if (/android/i.test(userAgent)) {
              // Redireciona para Google Play
              window.location.href = 'https://play.google.com/store/apps/details?id=com.psiotavio.MovieChecklist';
            } else if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
              // Redireciona para App Store
              window.location.href = 'https://apps.apple.com/app/id{6496133036}';
            } else {
              // Permanece no site ou exibe uma mensagem
              const appBanner = document.createElement('div');
              appBanner.style.position = 'fixed';
              appBanner.style.top = '0';
              appBanner.style.left = '0';
              appBanner.style.width = '100%';
              appBanner.style.backgroundColor = '#000';
              appBanner.style.color = '#fff';
              appBanner.style.padding = '12px';
              appBanner.style.textAlign = 'center';
              appBanner.style.zIndex = '9999';
              appBanner.innerHTML = 'Baixe o aplicativo Watchfolio para uma melhor experiência!';
              document.body.appendChild(appBanner);
            }
          }, 2000);
        }
      });
    </script>
  </body>
</html>
